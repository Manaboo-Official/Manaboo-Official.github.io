<!DOCTYPE html>
<html lang="en">
<head>
    <!-- [Previous head content remains exactly the same] -->
    <style>
        /* [All previous CSS remains the same until .modal-content] */
        
        .modal-content {
            background-color: var(--card-bg);
            border-radius: var(--radius-md);
            width: 100%;
            max-width: 40rem;
            max-height: 90vh;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch; /* Added for iOS smooth scrolling */
            padding: 2.5rem 2rem 2rem;
            position: relative;
            animation: modalFadeIn 0.3s ease;
            box-shadow: 0 8px 32px rgba(0,0,0,0.12);
            margin: var(--safe-area) 0;
        }
        
        /* [Rest of your existing CSS remains exactly the same] */
    </style>
</head>
<body>
    <!-- [All your existing HTML content remains exactly the same until the script] -->

    <script>
        // Newsletter data (keep your existing newsletters object exactly the same)
        
        // DOM elements (keep your existing selectors exactly the same)

        // View buttons functionality
        viewButtons.forEach(button => {
            button.addEventListener('click', function(e) {
                e.preventDefault();
                const newsletterId = this.getAttribute('data-id');
                const newsletter = newsletters[newsletterId];
                
                if (newsletter) {
                    modalContent.innerHTML = `
                        <h2>${newsletter.title}</h2>
                        <p class="newsletter-date">${newsletter.date}</p>
                        ${newsletter.content}
                    `;
                    modal.style.display = 'flex';
                    document.documentElement.classList.add('modal-open'); // Changed from body style
                    
                    // Focus on modal for accessibility
                    modal.setAttribute('aria-hidden', 'false');
                    closeBtn.focus();
                }
            });
        });

        // Close modal
        function closeModal() {
            modal.style.display = 'none';
            document.documentElement.classList.remove('modal-open'); // Changed from body style
            modal.setAttribute('aria-hidden', 'true');
            
            // Return focus to the button that opened the modal
            const focusedButtonBeforeModal = document.activeElement;
            if (focusedButtonBeforeModal) {
                focusedButtonBeforeModal.focus();
            }
        }
        
        // [Rest of your existing event listeners remain exactly the same]
    </script>

    <!-- Add this new style tag right before </body> -->
    <style>
        /* New CSS for modal open state */
        html.modal-open {
            overflow: hidden;
            position: relative;
            height: 100%;
        }
        
        body.modal-open {
            overflow: hidden;
            position: relative;
            height: 100%;
        }
    </style>
</body>
</html>
